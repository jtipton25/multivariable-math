{
  "hash": "0c51a5b65286525c0df0cea05417a3bc",
  "result": {
    "markdown": "# Vectors spaces {#vector-spaces}\n\n\n- [3 Blue 1 Brown -- Linear combinations, span, and basis vectors](https://www.3blue1brown.com/lessons/span)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(shiny)\nlibrary(patchwork)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.1 --\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nv ggplot2 3.3.5     v purrr   0.3.4\nv tibble  3.1.6     v dplyr   1.0.7\nv tidyr   1.1.4     v stringr 1.4.0\nv readr   2.0.2     v forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\n# if gg3D package not installed, install the package\nlibrary(gg3D)\nlibrary(dasc2594)\n```\n:::\n\n\n\n## Vectors \n\n\n### Properties of Vectors\n\nFor any real valued scalars $a, b \\in \\mathcal{R}$ and any vectors $\\mathbf{x}, \\mathbf{y}, \\mathbf{z} \\in \\mathcal{R}^n$ (vectors of real numbers of length $n$), \n\n1) **scalar multiplication**\n\n\n$$\n\\begin{aligned}\na \\mathbf{x} & = a \\begin{pmatrix} x_1 \\\\ x_2 \\\\ \\vdots \\\\ x_n \\end{pmatrix} \\\\\n& = \\begin{pmatrix} a x_1 \\\\ a x_2 \\\\ \\vdots \\\\ a x_n \\end{pmatrix} \n\\end{aligned}\n$$\n\n\n    \nwhere the scalar $a$ is multiplied by each element of the vector. For example, \n\n\n\n$$\n\\begin{aligned}\n4 \\begin{pmatrix} 4 \\\\ 6 \\\\ 7 \\\\ 12 \\end{pmatrix} \n& = \\begin{pmatrix} 4 * 4 \\\\ 4 * 6 \\\\ 4 * 7 \\\\ 4 * 12 \\end{pmatrix} \\\\\n& = \\begin{pmatrix} 16 \\\\ 24 \\\\ 28 \\\\ 48 \\end{pmatrix} \n\\end{aligned}\n$$\n\n\n\nIn `R`, we can multiply the vector by a scalar as\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n4 * c(4, 6, 7, 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 16 24 28 48\n```\n:::\n:::\n\n\n\nor if the vector $\\mathbf{x} = \\left( 4, 6, 7, 12 \\right)'$ we can write this as\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(4, 6, 7, 12)\n4 * x\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 16 24 28 48\n```\n:::\n:::\n\n\n\n2) **scalar multiplicative commutivity**\n\n\n\n$$\n\\begin{aligned}\na (b \\mathbf{x}) & = (ab) \\mathbf{x} & = b (a \\mathbf{x})\n\\end{aligned}\n$$\n\n::: {.cell}\n\n```{.r .cell-code}\n4 * (6 * x) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  96 144 168 288\n```\n:::\n\n```{.r .cell-code}\n(4 * 6) * x\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  96 144 168 288\n```\n:::\n:::\n\n\n\n3) **scalar additive associativity**\n\n\n\n$$\n\\begin{aligned}\na \\mathbf{x} + b \\mathbf{x} & = (a + b) \\mathbf{x}\n\\end{aligned}\n$$\n\n\n\n4) **vector additive associativity**\n\n\n\n$$\n\\begin{aligned}\na \\mathbf{x} + a \\mathbf{y} & = a (\\mathbf{x} + \\mathbf{y})\n\\end{aligned}\n$$\n\n\n    \n5) **vector associativity**\n\n\n$$\n\\begin{aligned}\n\\mathbf{x} + \\mathbf{y} & = \\mathbf{y} + \\mathbf{x}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\n(\\mathbf{x} + \\mathbf{y}) + \\mathbf{z} & = \\mathbf{x} + (\\mathbf{y} + \\mathbf{z})\n\\end{aligned}\n$$\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 2, 3, 4)\ny <- c(4, 3, 5, 1)\nz <- c(5, 2, 4, 6)\n\nx + y\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5 5 8 5\n```\n:::\n\n```{.r .cell-code}\ny + x\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5 5 8 5\n```\n:::\n\n```{.r .cell-code}\n(x + y) + z\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10  7 12 11\n```\n:::\n\n```{.r .cell-code}\nx + (y + z)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10  7 12 11\n```\n:::\n:::\n\n\n\n6) **Identity Element of Addition:** For any vector $\\mathbf{x}$ of length $n$, there exists a vector $\\mathbf{0}$, known as the *zero vector*, such that\n\n\n\n$$\n\\begin{aligned}\n\\mathbf{x} + \\mathbf{0} & = \\mathbf{x}\n\\end{aligned}\n$$\n\n::: {.cell}\n\n```{.r .cell-code}\nx + 0\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3 4\n```\n:::\n\n```{.r .cell-code}\nx + rep(0, 4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3 4\n```\n:::\n:::\n\n\n\n7) **Inverse Element of Addition:** For any vector $\\mathbf{x}$ of length $n$, there exists a vector $-\\mathbf{x}$, known as the *additive inverse* vector, such that\n\n\n\n$$\n\\begin{aligned}\n\\mathbf{x} + (- \\mathbf{x}) & = \\mathbf{0}\n\\end{aligned}\n$$\n\n::: {.cell}\n\n```{.r .cell-code}\nx + (-x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0 0 0 0\n```\n:::\n:::\n\n\n\n\n    \n## Vector addition\nTwo vectors of length $n$ can be added elementwise\n\n\n\n$$\n\\begin{aligned}\n\\mathbf{x} + \\mathbf{y} & = \\begin{pmatrix} x_1 \\\\ x_2 \\\\ \\vdots \\\\ x_n \\end{pmatrix} + \\begin{pmatrix} y_1 \\\\ y_2 \\\\ \\vdots \\\\ y_n \\end{pmatrix} \\\\\n& = \\begin{pmatrix} x_1 + y_1 \\\\ x_2 + y_2 \\\\ \\vdots \\\\ x_n + y_n \\end{pmatrix} \n\\end{aligned}\n$$\n\n\n\nFor example, \n\n\n\n$$\n\\begin{aligned}\n\\begin{pmatrix} 3 \\\\ 1 \\\\ -4 \\\\ 3 \\end{pmatrix} + \\begin{pmatrix} -3 \\\\ 17 \\\\ -39 \\\\ 4 \\end{pmatrix} & = \\begin{pmatrix} 3 + (-3) \\\\ 1 + 17 \\\\ -4 + (-39) \\\\ 3 + 4 \\end{pmatrix} \\\\\n& = \\begin{pmatrix} 0 \\\\ 18 \\\\ -43 \\\\ 7 \\end{pmatrix} \n\\end{aligned}\n$$\n\n\n\nIn `R`, we have\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(3, 1, -4, 3)\ny <- c(-3, 17, -39, 4)\nx + y\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]   0  18 -43   7\n```\n:::\n:::\n\n\n\nIf two vectors $\\mathbf{x}$ and $\\mathbf{y}$ are of different lengths, then they cannot be added together. Using `R`, we get the following error:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 2, 3)\ny <- c(1, 2, 3, 4)\nx + y\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in x + y: longer object length is not a multiple of shorter object\nlength\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2 4 6 5\n```\n:::\n:::\n\n\n\nThe error is telling us that the vector $\\mathbf{x}$ and the vector $\\mathbf{y}$ do not have the same length. \n\nBe careful when adding vectors in `R`. `R` uses \"recycling\" which means two vectors of different lengths can be added together if one vector is of a length that is a multiple of the other vector. For example, if $\\mathbf{x} = (1, 2)'$ is a vector of length 2 and $\\mathbf{y} = (1, 2, 3, 4)$ is a vector of length 4, `R` will add $\\mathbf{x} + \\mathbf{y}$ by replicating the vector $\\mathbf{x}$ twice (i.e., $\\mathbf{x} + \\mathbf{y} = \\left( \\mathbf{x}', \\mathbf{x}' \\right)' = \\left(1, 2, 1, 2 \\right)' + \\mathbf{y}$) \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 2)\ny <- c(1, 2, 3, 4)\nx + y\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2 4 4 6\n```\n:::\n\n```{.r .cell-code}\n# replicated x = c(1, 2, 1, 2)\nc(1, 2, 1, 2) + y\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2 4 4 6\n```\n:::\n:::\n\n\n\n### The geometric interpretation of vectors in $\\mathcal{R}^2$\n\nLet $\\mathcal{R}^2$ be a real coordinate space of $2$ dimensions. You are already familiar with the Cartesian plane that consists of ordered pairs $(x, y)$. The Cartesian plane defines the real coordinate space $\\mathbf{R}^2$ of two dimensions. In $\\mathbf{R}^2$, the location of any point of interest can be defined using the $x$ and $y$. For example, the plot below shows the location of the point (2, 3)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- data.frame(\n    x = 2,\n    y = 3\n)\n\nggplot(data = dat, aes(x = x, y = y)) +\n    geom_point() +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4))\n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/geometric-interpretation-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nA vector space is a generalization of this representation. In $\\mathcal{R}^2$, we say that the vector $\\mathbf{z} = c(2, 3)$ is centered at the origin (0, 0) and has length 2 in the $x$-axis and length 3 in the $y$-axis. The plot below shows this vector\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-vector-1.pdf)\n:::\n:::\n\n\n\nWe can also decompose the vector $\\mathbf{z}$ into its $x$ and $y$ components. The $x$ component of $\\mathbf{z}$ is (2, 0) and the $y$ component of $\\mathbf{z}$ is (0, 3). The following plot shows the $x$ component (2, 0) in blue and the $y$ component (0, 3) in red.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-vector-components-1.pdf)\n:::\n:::\n\n\n\n\nThe below Shiny app allows you to plot the vector for any $(x, y)$ pair of your choosing.\n\n\n\n::: {.cell}\n\n:::\n\n\n\nThe shiny app can be downloaded and run on your own computer using \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(shiny)\nrunGitHub(rep = \"multivariable-math\", \n          username = \"jtipton25\",\n          subdir = \"shiny-apps/chapter-03/vector-space\") \n```\n:::\n\n\n\n#### Addition of vectors\n\nWe can represent the addition of vectors geometrically as well. Consider the two vectors $\\mathbf{u}$ = (3, 2) and $\\mathbf{v}$ = (-2, 1) where $\\mathbf{u} + \\mathbf{v}$ = (1, 3).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata.frame(x = c(3, -2, 1), y = c(2, 1, 3), vector = c(\"u\", \"v\", \"u+v\")) %>%\n    ggplot() +\n    geom_point(aes(x = x, y = y, color = vector)) +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4))\n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-add-vectors-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nWe can represent the sum using vectors by adding $\\mathbf{u}$ first then adding $\\mathbf{v}$ to $\\mathbf{u}$ or by adding $\\mathbf{v}$ first and then $\\mathbf{u}$ to get\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- data.frame(x = c(0, 3, 1, -2), y = c(0, 2, 3, 1))\np1 <- ggplot() +\n    geom_segment(aes(x = 0, xend = 3, y = 0, yend = 2), arrow = arrow(), color = \"blue\") +\n    geom_segment(aes(x = 3, xend = 3 - 2, y = 2, yend = 2 + 1), arrow = arrow(), color = \"red\") +\n    geom_segment(aes(x = 0, xend = 3 - 2, y = 0, yend = 2 + 1), arrow = arrow(), color = \"black\") +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4)) + \n    geom_polygon(data = df, aes(x = x, y = y), fill = \"grey\", alpha = 0.5) +\n    ggtitle(\"u + v\")\np2 <- ggplot() +\n    geom_segment(aes(x = 0, xend = -2, y = 0, yend = 1), arrow = arrow(), color = \"red\") +\n    geom_segment(aes(x = -2, xend = -2 + 3, y = 1, yend = 1 + 2), arrow = arrow(), color = \"blue\") +\n    geom_segment(aes(x = 0, xend = 3 - 2, y = 0, yend = 2 + 1), arrow = arrow(), color = \"black\") +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4)) +\n    geom_polygon(data = df, aes(x = x, y = y), fill = \"grey\", alpha = 0.5) +\n    ggtitle(\"v + u\")\np1 + p2\n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-add-vectors-parallelogram-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nNotice that the sum of these vectors defines a parallelogram where the sum $\\mathbf{u} + \\mathbf{v}$ is the diagonal of the shaded parallelogram. This geometric interpretation will serve as a basis for interpreting vector equations in higher dimensions where typical visualization methods fail.\n\n### Scalar multiplication of vectors\n\n\nWe can represent the multiplication of a vector by a scalar geometrically as well. Consider the vector $\\mathbf{u}$ = (3, 2) and the scalars $a = 2$ and $b = -1$. Then, we can plot $\\mathbf{u}$, $a\\mathbf{u}$, and $b\\mathbf{u}$.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata.frame(x = c(3, 2 * 3, -1 * 3), y = c(2, 2 * 2, -1 * 2), vector = c(\"u\", \"a*u\", \"b*u\")) %>%\n    ggplot() +\n    geom_point(aes(x = x, y = y, color = vector)) +\n    geom_segment(aes(x = 0, xend = x, y = 0, yend = y, color = vector), arrow = arrow(), alpha = 0.75) +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-6, 6), ylim = c(-6, 6))\n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-scalar-multiplication-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nIn fact, if $a$ is allowed to take on any values, then the set of all possible values of $a \\mathbf{u}$ for all values of $a$ defines an infinite line\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n    geom_abline(slope = 2/3, intercept = 0) +  \n    geom_point(aes(x = 3, y = 2)) +\n    geom_segment(aes(x = 0, xend = 3, y = 0, yend = 2), arrow = arrow(), color = \"black\") +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4)) \n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-line-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n### The geometric interpretation of vectors in $\\mathcal{R}^3$\n\nLet the vector $\\mathbf{u} = c(-2, 3, 5)$. Then, the figure below shows the vector in 3 dimensions.\n\n**Draw picture by hand**\n\n\n::: {.cell}\n\n:::\n\n\n\n### The geometric interpretation of vectors in $\\mathcal{R}^n$\n\nAs the number of dimensions increases, the same interpretation can be used, but the ability to visualize higher dimensions becomes more difficult.\n\n\n### Linear Combinations of Vectors\n\nWe say that for any two scalars $a$ and $b$ and any two vectors $\\mathbf{x}$ and $\\mathbf{y}$ of length $n$, the sum\n\n\n\n$$\n\\begin{aligned}\na \\mathbf{x} + b \\mathbf{y} & = \\begin{pmatrix}\na x_1 + b y_1 \\\\\na x_2 + b y_2 \\\\\n\\vdots \\\\\na x_n + b y_n \\\\\n\\end{pmatrix}\n\\end{aligned}\n$$\n\n\n\nis called a linear combination. The idea of a linear combination can be extended to $K$ different scalars $\\{ a_1, \\ldots, a_K \\}$ and $K$ different vectors $\\{ \\mathbf{x}_1, \\ldots, \\mathbf{x}_K\\}$ each of length $n$ as\n\n\n\n$$\n \\begin{aligned}\na_1 \\mathbf{x}_1 + a_2 \\mathbf{x}_2 +  \\ldots + a_K \\mathbf{x}_K = \n\\sum_{k=1}^K a_k \\mathbf{x}_k & = \\begin{pmatrix}\n\\sum_{k=1}^K a_k x_{k1} \\\\\n\\sum_{k=1}^K a_k x_{k2} \\\\\n\\vdots \\\\\n\\sum_{k=1}^K a_k x_{kn} \\\\\n\\end{pmatrix}\n\\end{aligned}\n$$\n\n\nThe scalars $a_k$ are called **coefficients** (sometimes also called **weights**). \n\n* **Example:** Consider the linear combination $a \\mathbf{u} + b \\mathbf{v}$ where \n\n\n\n$$\n\\begin{aligned}\n\\mathbf{u} = \\begin{pmatrix} 3 \\\\ 6\\end{pmatrix} && \\mathbf{v} = \\begin{pmatrix} -2 \\\\ 1\\end{pmatrix}. \\end{aligned}\n$$\n\n\nAre there values of $a$ and $b$ such $a \\mathbf{u} + b \\mathbf{v} = \\begin{pmatrix} 9 \\\\ - 4 \\end{pmatrix}$? To answer this question, we can write the linear combination as \n\n\n$$\n\\begin{aligned}\na \\begin{pmatrix} 3 \\\\ 6\\end{pmatrix} + b \\begin{pmatrix} -2 \\\\ 1\\end{pmatrix} & = \\begin{pmatrix} 9 \\\\ -4 \\end{pmatrix} \n\\end{aligned}\n$$\n\n\nwhich can be written using the property of scalar multiplication as\n\n\n$$\n\\begin{aligned}\n\\begin{pmatrix} 3a \\\\ 6a \\end{pmatrix} + \\begin{pmatrix} -2b \\\\ b \\end{pmatrix} & = \\begin{pmatrix} 9 \\\\ -4 \\end{pmatrix}\n\\end{aligned}\n$$\n\n\nand using properties of vector addition can be written as\n\n\n$$\n\\begin{aligned}\n\\begin{pmatrix} 3a - 2b \\\\ 6a + b \\end{pmatrix} & = \\begin{pmatrix} 9 \\\\ -4 \\end{pmatrix}\n\\end{aligned}\n$$\n\n\nRecognizing this as a system of linear equations\n\n\n$$\n\\begin{aligned}\n3a - 2b & = 9 \\\\ \n6a + b & = -4,\n\\end{aligned}\n$$\n\n\nthe system of equations can be written in an augmented matrix form as\n\n\n$$\n\\begin{aligned}\n\\begin{pmatrix}\n3  & - 2 & 9\\\\\n6  &   1 & -4 \n\\end{pmatrix}\n\\end{aligned}\n$$\n\n\nReducing the augmented matrix to reduced row echelon form gives\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrref(matrix(c(3, 6, -2, 1, 9, -4), 2, 3))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     [,1] [,2]        [,3]\n[1,]    1    0  0.06666667\n[2,]    0    1 -4.40000000\n```\n:::\n:::\n\n\nwhich has solutions $a = 0.0667$ and $b = -4.4$.\n\n* **Result:** Any vector equation $a_1 \\mathbf{x}_1 + a_2 \\mathbf{x}_2 +  \\ldots + a_K \\mathbf{x}_K = \\mathbf{c}$ for a given constant vector $\\mathbf{b}$ has the same solution set as the augmented matrix\n\n\n\n$$\n\\begin{aligned}\n\\begin{pmatrix} \\mathbf{x}_1 & \\mathbf{x}_2 & \\cdots & \\mathbf{x}_K & \\mathbf{b} \\end{pmatrix}\n\\end{aligned}\n$$\n\n\nEquivalently, the set of vectors $\\{\\mathbf{x}_k\\}_{k=1}^K$ can only be combined with linear coefficients $\\{a_k\\}_{k=1}^K$ to equal the vector $\\mathbf{b}$ if the linear system of equations is consistent.\n\n### The geometric interpretation of linear combinations of vectors\n\nConsider the vectors $\\mathbf{u} = \\begin{pmatrix} \\sqrt{2} \\\\ - \\sqrt{2} \\end{pmatrix}$ and $\\mathbf{v} = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$ shown in the figure below on the left.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-linear-combination-1.pdf)\n:::\n:::\n\n\n\n\n\n* **Exercise:** Given $\\mathbf{u} = \\begin{pmatrix} 3 \\\\ -1 \\end{pmatrix}$ and $\\mathbf{v} = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$, estimate the linear combination of $\\mathbf{u}$ and $\\mathbf{v}$ that gives the point $\\mathbf{w}$ in the figure below.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-transformation-1.pdf)\n:::\n:::\n\n\n\n## Span\n\n::: {#def-span}\n## Span\nLet $\\mathbf{a}_1, \\ldots, \\mathbf{a}_K$ be vectors in $\\mathcal{R}^n$. We say the vector $\\mathbf{w}$ is in the span of $\\mathbf{a}_1, \\ldots, \\mathbf{a}_K$ ($\\mathbf{w} \\in \\mbox{span}\\{ \\mathbf{a}_1, \\ldots, \\mathbf{a}_K \\}$) if there exists coefficients $x_1, \\ldots, x_K$ such that $\\mathbf{w} = \\sum_{k=1}^K x_k \\mathbf{a}_k$.\n:::\n\n::: {#exm-}\nWhile not a vector notation, you already understand the span from polynomial functions. For example, assume you have the functions 1, $x$, and $x^2$. Then, the functions $-4 + 3x^2$ ($a_1 = -4, a_2 = 0, a_3 = 3$) and $-3 + 4x - 2x^2$ ($a_1 = -3, a_2 = 4, a_3 = -2$) are in the span of functions $\\{1, x, x^2\\}$, but the functions $x^3$, $x^4 - 2x^2$, etc., are not in the span of $\\{1, x, x^2\\}$ because you cannot write these as a linear combination of $a_1 1 + a_2 x + a_3 x^2$. \n:::\n\n### Geometric example of the span\n\n* **Example:** Consider the vector $\\mathbf{u} = \\begin{pmatrix} 2 \\\\ 1 \\end{pmatrix}$. Then, the vector $\\mathbf{w} = \\begin{pmatrix} 4 \\\\ 2 \\end{pmatrix}$ is in the $\\mbox{span}\\{\\mathbf{u}\\}$ because $\\mathbf{w} = 2 \\mathbf{u}$ but the vector $\\mathbf{v} = \\begin{pmatrix} 4 \\\\ -4 \\end{pmatrix}$ is not in the $\\mbox{span}\\{\\mathbf{u}\\}$ because there is no coefficient $a$ such that $\\mathbf{w} = a \\mathbf{u}$. In this example, the vector $\\mathbf{u}$ is a 2-dimensional vector (lives in $\\mathcal{R}^2$--a plane) but the $\\mbox{span}\\{\\mathbf{u}\\}$ lives in 1-dimension (a line).\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n    geom_abline(slope = 1/2, intercept = 0, color = \"blue\", size = 2) +  \n    geom_segment(aes(x = 0, xend = 2, y = 0, yend = 1), arrow = arrow(length = unit(0.1, \"inches\")), size = 1.5, color = \"red\") +\n    geom_segment(aes(x = 0, xend = 4, y = 0, yend = 2), arrow = arrow(length = unit(0.1, \"inches\")), size = 1.5, color = \"red\") +\n    geom_segment(aes(x = 0, xend = 4, y = 0, yend = -4), arrow = arrow(length = unit(0.1, \"inches\")), size = 1.5, color = \"orange\") +\n    geom_vline(xintercept = 0) + \n    geom_hline(yintercept = 0) +\n    coord_cartesian(xlim = c(-4, 4), ylim = c(-4, 4))  +\n    geom_text(data = data.frame(x = c(2, 4, 4),  y = c(1, 2, -4), text = c(\"u\", \"w\", \"v\")),\n              aes(x = x, y = y + 0.5, label = text), size = 5, inherit.aes = FALSE,\n              color = c(\"red\", \"red\", \"orange\")) +\n    ggtitle(\"span{u} is the blue line \\nw is in span{u}\\nv is not in span{u}\")\n```\n\n::: {.cell-output-display}\n![](03-vector-spaces_files/figure-pdf/plot-example-span-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nFrom the example above, we can answer the question \"Is the point (a, b) on the line defined by the vector $\\mathbf{u}$?\" by asking whether the point (a, b) is in the $span\\{\\mathbf{u}\\}$. While this is trivial for such a simple problem, the use of the span will make things easier in higher dimensions.\n\n* **Example: do in class** 2 3-d vectors that are not scalar multiples of each other define a plane. Does a point lie within the plane? Use the span to answer this question.\n\n\nThe shiny app below demonstrates how the concept of span can be understood in 2 dimensions. The app can be downloaded and run\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(shiny)\nrunGitHub(rep = \"multivariable-math\",\n          username = \"jtipton25\", \n          subdir = \"shiny-apps/chapter-03/span\") \n```\n:::\n",
    "supporting": [
      "03-vector-spaces_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}